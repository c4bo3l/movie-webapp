(this["webpackJsonpmovie-webapp"]=this["webpackJsonpmovie-webapp"]||[]).push([[0],{95:function(e,t,c){"use strict";c.r(t);var n=c(0),i=c.n(n),r=c(19),a=c.n(r),d=c(43),j=c(9),s=(c(68),c(105)),l=c(97),o=c(1),b=function(){return Object(o.jsx)(s.a,{bg:"light",variant:"light",expand:"lg",sticky:"top",children:Object(o.jsx)(l.a,{fluid:!0,children:Object(o.jsx)(s.a.Brand,{children:"Movie Web App"})})})},h=c(106),O="https://www.omdbapi.com/?apikey=b9bd48a6",x="/movie-webapp",u="https://upload.wikimedia.org/wikipedia/commons/4/47/GarvaGriha_in_KaryaBinayak.jpg",v="".concat(x,"/detail"),p=function(e){var t=Object(j.f)(),c=e.Poster&&"n/a"!==e.Poster.toLowerCase()?e.Poster:u;return Object(o.jsxs)(h.a,{style:{width:"18rem",cursor:"pointer"},onClick:function(){t.push("".concat(v,"/").concat(e.imdbID))},children:[Object(o.jsx)(h.a.Img,{variant:"top",src:c,height:"386",alt:"img-".concat(e.Title)}),Object(o.jsxs)(h.a.Body,{children:[Object(o.jsx)(h.a.Title,{children:e.Title}),Object(o.jsx)(h.a.Subtitle,{children:e.Year})]})]},e.imdbID)},f=c(2),m=c(3),g=c(98),y=function(e){var t=e.children,c=Object(m.a)(e,["children"]);return Object(o.jsx)(g.a,Object(f.a)(Object(f.a)({},c),{},{xs:12,md:6,lg:3,style:{display:"flex",justifyContent:"center"},children:t}))},S=c(22),w=c(4),k=c(99),C=c(107),D=c(108),R=c(104),B=c(100),I=c(61),M=c(14),P=c.n(M),T=c(28),L=c(45),E=c.n(L),F=function(){return{fetchMovies:function(){var e=Object(T.a)(P.a.mark((function e(t,c){var n;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.a.get("".concat(O,"&type=movie&s=").concat(t,"&page=").concat(c||1));case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t,c){return e.apply(this,arguments)}}(),fetchMovieDetail:function(){var e=Object(T.a)(P.a.mark((function e(t){var c;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.a.get("".concat(O,"&type=movie&i=").concat(t));case 2:return c=e.sent,e.abrupt("return",c.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}},N=c(24),W=Object(N.b)({key:"movie-page-state",default:{search:void 0}}),A=function(){var e=F().fetchMovies,t=Object(n.useState)(1),c=Object(w.a)(t,2),i=c[0],r=c[1],a=Object(n.useState)([]),d=Object(w.a)(a,2),j=d[0],s=d[1],b=function(){var e=Object(N.c)(W),t=Object(w.a)(e,2);return[t[0],t[1]]}(),h=Object(w.a)(b,2),O=h[0],x=h[1],u=Object(n.useState)(void 0),v=Object(w.a)(u,2),m=v[0],M=v[1],P=Object(n.useState)(!1),T=Object(w.a)(P,2),L=T[0],E=T[1];return Object(n.useEffect)((function(){M(void 0),O.search?e(O.search,i).then((function(e){M(1!==i?void 0:e.Error),E(e.Response),e.Search&&s([].concat(Object(S.a)(j),Object(S.a)(e.Search)))})):s([])}),[i,O.search]),Object(o.jsxs)(l.a,{fluid:!0,children:[Object(o.jsx)(k.a,{className:"mt-2",style:{position:"sticky",top:"56px",zIndex:100},children:Object(o.jsx)(g.a,{children:Object(o.jsxs)(C.a,{children:[Object(o.jsx)(C.a.Text,{id:"txt-search-prefix",children:Object(o.jsx)(B.a,{})}),Object(o.jsx)(D.a,{placeholder:"Search by movie title","aria-label":"Search by movie title","aria-describedby":"txt-search-prefix",onChange:function(e){window.scrollTo(0,0),s([]),r(1),x({search:e.currentTarget.value})},value:O.search||""})]})})}),Object(o.jsxs)(I.a,{dataLength:j.length,next:function(){r(i+1)},hasMore:L,loader:Object(o.jsx)("div",{style:{display:"hidden"}}),style:{overflowX:"hidden"},children:[!!m&&Object(o.jsx)(k.a,{className:"mt-2",children:Object(o.jsx)(g.a,{children:Object(o.jsx)(R.a,{variant:"danger",children:m})})}),Object(o.jsx)(k.a,{className:"mt-1",children:j.map((function(e,t){return Object(o.jsx)(y,{className:"mt-2 mb-2",children:Object(o.jsx)(p,Object(f.a)({},e))},"".concat(e.imdbID,"-").concat(t))}))})]})]})},V=c(101),G=function(){var e=Object(j.f)();return Object(o.jsx)(s.a,{bg:"light",variant:"light",expand:"lg",sticky:"top",children:Object(o.jsx)(l.a,{fluid:!0,children:Object(o.jsxs)(s.a.Brand,{href:"#",onClick:function(){e.goBack()},style:{display:"flex",alignItems:"center"},children:[Object(o.jsx)(V.a,{})," Back"]})})})},J=c(102),Y=c(103),_=function(e){var t,c,i,r=F().fetchMovieDetail,a=Object(n.useState)(void 0),d=Object(w.a)(a,2),j=d[0],s=d[1],b=Object(n.useState)(!1),h=Object(w.a)(b,2),O=h[0],x=h[1];Object(n.useEffect)((function(){window.scrollTo(0,0),x(!0),r(e.imdbid).then((function(e){s(Object(f.a)({},e))})).catch((function(e){console.error(e)})).finally((function(){x(!1)}))}),[]);var v="n/a"===(null===j||void 0===j||null===(t=j.Poster)||void 0===t?void 0:t.toLowerCase())?u:null===j||void 0===j?void 0:j.Poster,p=(null===j||void 0===j?void 0:j.Ratings)?j.Ratings.length+1:0;return Object(o.jsxs)(l.a,{fluid:!0,children:[!!(null===j||void 0===j?void 0:j.Error)&&Object(o.jsx)(k.a,{className:"mt-2",children:Object(o.jsx)(g.a,{children:Object(o.jsx)(R.a,{variant:"danger",children:j.Error})})}),O&&Object(o.jsx)(k.a,{className:"mt-2",children:Object(o.jsx)(g.a,{style:{display:"flex",justifyContent:"center"},children:Object(o.jsx)(J.a,{animation:"grow",variant:"primary"})})}),!O&&!(null===j||void 0===j?void 0:j.Error)&&Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(k.a,{className:"mt-2",children:Object(o.jsx)(g.a,{children:Object(o.jsx)("h3",{children:"".concat(null===j||void 0===j?void 0:j.Title," (").concat(null===j||void 0===j?void 0:j.Year,")")})})}),Object(o.jsx)(k.a,{children:Object(o.jsx)(g.a,{style:{display:"flex",justifyContent:"center"},children:Object(o.jsx)("img",{src:v,alt:null===j||void 0===j?void 0:j.Title})})}),Object(o.jsx)(k.a,{children:Object(o.jsx)(g.a,{children:Object(o.jsx)(Y.a,{responsive:!0,children:Object(o.jsxs)("tbody",{children:[Object(o.jsxs)("tr",{children:[Object(o.jsx)("td",{children:"Rated"}),Object(o.jsx)("td",{colSpan:2,children:null===j||void 0===j?void 0:j.Rated})]}),Object(o.jsxs)("tr",{children:[Object(o.jsx)("td",{children:"Released"}),Object(o.jsx)("td",{colSpan:2,children:null===j||void 0===j?void 0:j.Released})]}),Object(o.jsxs)("tr",{children:[Object(o.jsx)("td",{children:"Runtime"}),Object(o.jsx)("td",{colSpan:2,children:null===j||void 0===j?void 0:j.Runtime})]}),Object(o.jsxs)("tr",{children:[Object(o.jsx)("td",{children:"Genre"}),Object(o.jsx)("td",{colSpan:2,children:null===j||void 0===j?void 0:j.Genre})]}),Object(o.jsxs)("tr",{children:[Object(o.jsx)("td",{children:"Director"}),Object(o.jsx)("td",{colSpan:2,children:null===j||void 0===j?void 0:j.Director})]}),Object(o.jsxs)("tr",{children:[Object(o.jsx)("td",{children:"Writer"}),Object(o.jsx)("td",{colSpan:2,children:null===j||void 0===j?void 0:j.Writer})]}),Object(o.jsxs)("tr",{children:[Object(o.jsx)("td",{children:"Actors"}),Object(o.jsx)("td",{colSpan:2,children:null===j||void 0===j?void 0:j.Actors})]}),Object(o.jsxs)("tr",{children:[Object(o.jsx)("td",{children:"Plot"}),Object(o.jsx)("td",{colSpan:2,children:null===j||void 0===j?void 0:j.Plot})]}),Object(o.jsxs)("tr",{children:[Object(o.jsx)("td",{children:"Language"}),Object(o.jsx)("td",{colSpan:2,children:null===j||void 0===j?void 0:j.Language})]}),Object(o.jsxs)("tr",{children:[Object(o.jsx)("td",{children:"Country"}),Object(o.jsx)("td",{colSpan:2,children:null===j||void 0===j?void 0:j.Country})]}),Object(o.jsxs)("tr",{children:[Object(o.jsx)("td",{children:"Awards"}),Object(o.jsx)("td",{colSpan:2,children:null===j||void 0===j?void 0:j.Awards})]}),Object(o.jsx)("tr",{children:Object(o.jsx)("td",{rowSpan:p,children:"Ratings"})}),null===j||void 0===j||null===(c=j.Ratings)||void 0===c?void 0:c.map((function(e,t){return Object(o.jsxs)("tr",{children:[Object(o.jsx)("td",{children:e.Source}),Object(o.jsx)("td",{children:e.Value})]},"rating-".concat(t))})),Object(o.jsxs)("tr",{children:[Object(o.jsx)("td",{children:"Metascore"}),Object(o.jsx)("td",{colSpan:2,children:null===j||void 0===j?void 0:j.Metascore})]}),Object(o.jsxs)("tr",{children:[Object(o.jsx)("td",{children:"IMDB Rating"}),Object(o.jsx)("td",{colSpan:2,children:null===j||void 0===j?void 0:j.imdbRating})]}),Object(o.jsxs)("tr",{children:[Object(o.jsx)("td",{children:"IMDB Votes"}),Object(o.jsx)("td",{colSpan:2,children:null===j||void 0===j?void 0:j.imdbVotes})]}),Object(o.jsxs)("tr",{children:[Object(o.jsx)("td",{children:"DVD"}),Object(o.jsx)("td",{colSpan:2,children:null===j||void 0===j?void 0:j.DVD})]}),Object(o.jsxs)("tr",{children:[Object(o.jsx)("td",{children:"Box Office"}),Object(o.jsx)("td",{colSpan:2,children:null===j||void 0===j?void 0:j.BoxOffice})]}),Object(o.jsxs)("tr",{children:[Object(o.jsx)("td",{children:"Production"}),Object(o.jsx)("td",{colSpan:2,children:null===j||void 0===j?void 0:j.Production})]}),Object(o.jsxs)("tr",{children:[Object(o.jsx)("td",{children:"Website"}),Object(o.jsx)("td",{colSpan:2,children:"n/a"===(null===j||void 0===j||null===(i=j.Website)||void 0===i?void 0:i.toLowerCase())?j.Website:Object(o.jsx)("a",{href:null===j||void 0===j?void 0:j.Website,children:"Click here"})})]})]})})})})]})]})},z=function(){return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(b,{}),Object(o.jsx)(A,{})]})},K=function(){var e=Object(j.g)().imdbId;return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(G,{}),Object(o.jsx)(_,{imdbid:e})]})},X=function(){return Object(o.jsx)(d.a,{children:Object(o.jsxs)(j.c,{children:[Object(o.jsx)(j.a,{exact:!0,path:"/movie-webapp",component:z}),Object(o.jsx)(j.a,{exact:!0,path:"".concat(v,"/:imdbId"),component:K})]})})},q=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,109)).then((function(t){var c=t.getCLS,n=t.getFID,i=t.getFCP,r=t.getLCP,a=t.getTTFB;c(e),n(e),i(e),r(e),a(e)}))};a.a.render(Object(o.jsx)(i.a.StrictMode,{children:Object(o.jsx)(N.a,{children:Object(o.jsx)(X,{})})}),document.getElementById("root")),q()}},[[95,1,2]]]);
//# sourceMappingURL=main.7fd267e0.chunk.js.map