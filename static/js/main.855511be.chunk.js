(this["webpackJsonpmovie-webapp"]=this["webpackJsonpmovie-webapp"]||[]).push([[0],{95:function(e,t,c){"use strict";c.r(t);var n=c(0),i=c.n(n),r=c(19),d=c.n(r),a=c(43),j=c(9),s=(c(68),c(105)),l=c(97),o=c(1),b=function(){return Object(o.jsx)(s.a,{bg:"light",variant:"light",expand:"lg",sticky:"top",children:Object(o.jsx)(l.a,{fluid:!0,children:Object(o.jsx)(s.a.Brand,{children:"Movie Web App"})})})},h=c(106),O="https://www.omdbapi.com/?apikey=b9bd48a6",x="https://upload.wikimedia.org/wikipedia/commons/4/47/GarvaGriha_in_KaryaBinayak.jpg",u=function(e){var t=Object(j.f)(),c=e.Poster&&"n/a"!==e.Poster.toLowerCase()?e.Poster:x;return Object(o.jsxs)(h.a,{style:{width:"18rem",cursor:"pointer"},onClick:function(){t.push("".concat("/detail","/").concat(e.imdbID))},children:[Object(o.jsx)(h.a.Img,{variant:"top",src:c,height:"386",alt:"img-".concat(e.Title)}),Object(o.jsxs)(h.a.Body,{children:[Object(o.jsx)(h.a.Title,{children:e.Title}),Object(o.jsx)(h.a.Subtitle,{children:e.Year})]})]},e.imdbID)},v=c(2),p=c(3),f=c(98),m=function(e){var t=e.children,c=Object(p.a)(e,["children"]);return Object(o.jsx)(f.a,Object(v.a)(Object(v.a)({},c),{},{xs:12,md:6,lg:3,style:{display:"flex",justifyContent:"center"},children:t}))},g=c(22),y=c(4),S=c(99),w=c(107),k=c(108),C=c(104),D=c(100),R=c(61),B=c(14),I=c.n(B),M=c(28),P=c(45),T=c.n(P),L=function(){return{fetchMovies:function(){var e=Object(M.a)(I.a.mark((function e(t,c){var n;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T.a.get("".concat(O,"&type=movie&s=").concat(t,"&page=").concat(c||1));case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t,c){return e.apply(this,arguments)}}(),fetchMovieDetail:function(){var e=Object(M.a)(I.a.mark((function e(t){var c;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T.a.get("".concat(O,"&type=movie&i=").concat(t));case 2:return c=e.sent,e.abrupt("return",c.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}},E=c(24),F=Object(E.b)({key:"movie-page-state",default:{search:void 0}}),N=function(){var e=L().fetchMovies,t=Object(n.useState)(1),c=Object(y.a)(t,2),i=c[0],r=c[1],d=Object(n.useState)([]),a=Object(y.a)(d,2),j=a[0],s=a[1],b=function(){var e=Object(E.c)(F),t=Object(y.a)(e,2);return[t[0],t[1]]}(),h=Object(y.a)(b,2),O=h[0],x=h[1],p=Object(n.useState)(void 0),B=Object(y.a)(p,2),I=B[0],M=B[1],P=Object(n.useState)(!1),T=Object(y.a)(P,2),N=T[0],W=T[1];return Object(n.useEffect)((function(){M(void 0),O.search?e(O.search,i).then((function(e){M(1!==i?void 0:e.Error),W(e.Response),e.Search&&s([].concat(Object(g.a)(j),Object(g.a)(e.Search)))})):s([])}),[i,O.search]),Object(o.jsxs)(l.a,{fluid:!0,children:[Object(o.jsx)(S.a,{className:"mt-2",style:{position:"sticky",top:"56px",zIndex:100},children:Object(o.jsx)(f.a,{children:Object(o.jsxs)(w.a,{children:[Object(o.jsx)(w.a.Text,{id:"txt-search-prefix",children:Object(o.jsx)(D.a,{})}),Object(o.jsx)(k.a,{placeholder:"Search by movie title","aria-label":"Search by movie title","aria-describedby":"txt-search-prefix",onChange:function(e){window.scrollTo(0,0),s([]),r(1),x({search:e.currentTarget.value})},value:O.search||""})]})})}),Object(o.jsxs)(R.a,{dataLength:j.length,next:function(){r(i+1)},hasMore:N,loader:Object(o.jsx)("div",{style:{display:"hidden"}}),style:{overflowX:"hidden"},children:[!!I&&Object(o.jsx)(S.a,{className:"mt-2",children:Object(o.jsx)(f.a,{children:Object(o.jsx)(C.a,{variant:"danger",children:I})})}),Object(o.jsx)(S.a,{className:"mt-1",children:j.map((function(e,t){return Object(o.jsx)(m,{className:"mt-2 mb-2",children:Object(o.jsx)(u,Object(v.a)({},e))},"".concat(e.imdbID,"-").concat(t))}))})]})]})},W=c(101),A=function(){var e=Object(j.f)();return Object(o.jsx)(s.a,{bg:"light",variant:"light",expand:"lg",sticky:"top",children:Object(o.jsx)(l.a,{fluid:!0,children:Object(o.jsxs)(s.a.Brand,{href:"#",onClick:function(){e.goBack()},style:{display:"flex",alignItems:"center"},children:[Object(o.jsx)(W.a,{})," Back"]})})})},V=c(102),G=c(103),J=function(e){var t,c,i,r=L().fetchMovieDetail,d=Object(n.useState)(void 0),a=Object(y.a)(d,2),j=a[0],s=a[1],b=Object(n.useState)(!1),h=Object(y.a)(b,2),O=h[0],u=h[1];Object(n.useEffect)((function(){window.scrollTo(0,0),u(!0),r(e.imdbid).then((function(e){s(Object(v.a)({},e))})).catch((function(e){console.error(e)})).finally((function(){u(!1)}))}),[]);var p="n/a"===(null===j||void 0===j||null===(t=j.Poster)||void 0===t?void 0:t.toLowerCase())?x:null===j||void 0===j?void 0:j.Poster,m=(null===j||void 0===j?void 0:j.Ratings)?j.Ratings.length+1:0;return Object(o.jsxs)(l.a,{fluid:!0,children:[!!(null===j||void 0===j?void 0:j.Error)&&Object(o.jsx)(S.a,{className:"mt-2",children:Object(o.jsx)(f.a,{children:Object(o.jsx)(C.a,{variant:"danger",children:j.Error})})}),O&&Object(o.jsx)(S.a,{className:"mt-2",children:Object(o.jsx)(f.a,{style:{display:"flex",justifyContent:"center"},children:Object(o.jsx)(V.a,{animation:"grow",variant:"primary"})})}),!O&&!(null===j||void 0===j?void 0:j.Error)&&Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(S.a,{className:"mt-2",children:Object(o.jsx)(f.a,{children:Object(o.jsx)("h3",{children:"".concat(null===j||void 0===j?void 0:j.Title," (").concat(null===j||void 0===j?void 0:j.Year,")")})})}),Object(o.jsx)(S.a,{children:Object(o.jsx)(f.a,{style:{display:"flex",justifyContent:"center"},children:Object(o.jsx)("img",{src:p,alt:null===j||void 0===j?void 0:j.Title})})}),Object(o.jsx)(S.a,{children:Object(o.jsx)(f.a,{children:Object(o.jsx)(G.a,{responsive:!0,children:Object(o.jsxs)("tbody",{children:[Object(o.jsxs)("tr",{children:[Object(o.jsx)("td",{children:"Rated"}),Object(o.jsx)("td",{colSpan:2,children:null===j||void 0===j?void 0:j.Rated})]}),Object(o.jsxs)("tr",{children:[Object(o.jsx)("td",{children:"Released"}),Object(o.jsx)("td",{colSpan:2,children:null===j||void 0===j?void 0:j.Released})]}),Object(o.jsxs)("tr",{children:[Object(o.jsx)("td",{children:"Runtime"}),Object(o.jsx)("td",{colSpan:2,children:null===j||void 0===j?void 0:j.Runtime})]}),Object(o.jsxs)("tr",{children:[Object(o.jsx)("td",{children:"Genre"}),Object(o.jsx)("td",{colSpan:2,children:null===j||void 0===j?void 0:j.Genre})]}),Object(o.jsxs)("tr",{children:[Object(o.jsx)("td",{children:"Director"}),Object(o.jsx)("td",{colSpan:2,children:null===j||void 0===j?void 0:j.Director})]}),Object(o.jsxs)("tr",{children:[Object(o.jsx)("td",{children:"Writer"}),Object(o.jsx)("td",{colSpan:2,children:null===j||void 0===j?void 0:j.Writer})]}),Object(o.jsxs)("tr",{children:[Object(o.jsx)("td",{children:"Actors"}),Object(o.jsx)("td",{colSpan:2,children:null===j||void 0===j?void 0:j.Actors})]}),Object(o.jsxs)("tr",{children:[Object(o.jsx)("td",{children:"Plot"}),Object(o.jsx)("td",{colSpan:2,children:null===j||void 0===j?void 0:j.Plot})]}),Object(o.jsxs)("tr",{children:[Object(o.jsx)("td",{children:"Language"}),Object(o.jsx)("td",{colSpan:2,children:null===j||void 0===j?void 0:j.Language})]}),Object(o.jsxs)("tr",{children:[Object(o.jsx)("td",{children:"Country"}),Object(o.jsx)("td",{colSpan:2,children:null===j||void 0===j?void 0:j.Country})]}),Object(o.jsxs)("tr",{children:[Object(o.jsx)("td",{children:"Awards"}),Object(o.jsx)("td",{colSpan:2,children:null===j||void 0===j?void 0:j.Awards})]}),Object(o.jsx)("tr",{children:Object(o.jsx)("td",{rowSpan:m,children:"Ratings"})}),null===j||void 0===j||null===(c=j.Ratings)||void 0===c?void 0:c.map((function(e,t){return Object(o.jsxs)("tr",{children:[Object(o.jsx)("td",{children:e.Source}),Object(o.jsx)("td",{children:e.Value})]},"rating-".concat(t))})),Object(o.jsxs)("tr",{children:[Object(o.jsx)("td",{children:"Metascore"}),Object(o.jsx)("td",{colSpan:2,children:null===j||void 0===j?void 0:j.Metascore})]}),Object(o.jsxs)("tr",{children:[Object(o.jsx)("td",{children:"IMDB Rating"}),Object(o.jsx)("td",{colSpan:2,children:null===j||void 0===j?void 0:j.imdbRating})]}),Object(o.jsxs)("tr",{children:[Object(o.jsx)("td",{children:"IMDB Votes"}),Object(o.jsx)("td",{colSpan:2,children:null===j||void 0===j?void 0:j.imdbVotes})]}),Object(o.jsxs)("tr",{children:[Object(o.jsx)("td",{children:"DVD"}),Object(o.jsx)("td",{colSpan:2,children:null===j||void 0===j?void 0:j.DVD})]}),Object(o.jsxs)("tr",{children:[Object(o.jsx)("td",{children:"Box Office"}),Object(o.jsx)("td",{colSpan:2,children:null===j||void 0===j?void 0:j.BoxOffice})]}),Object(o.jsxs)("tr",{children:[Object(o.jsx)("td",{children:"Production"}),Object(o.jsx)("td",{colSpan:2,children:null===j||void 0===j?void 0:j.Production})]}),Object(o.jsxs)("tr",{children:[Object(o.jsx)("td",{children:"Website"}),Object(o.jsx)("td",{colSpan:2,children:"n/a"===(null===j||void 0===j||null===(i=j.Website)||void 0===i?void 0:i.toLowerCase())?j.Website:Object(o.jsx)("a",{href:null===j||void 0===j?void 0:j.Website,children:"Click here"})})]})]})})})})]})]})},Y=function(){return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(b,{}),Object(o.jsx)(N,{})]})},_=function(){var e=Object(j.g)().imdbId;return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(A,{}),Object(o.jsx)(J,{imdbid:e})]})},z=function(){return Object(o.jsx)(a.a,{children:Object(o.jsxs)(j.c,{children:[Object(o.jsx)(j.a,{exact:!0,path:"/",component:Y}),Object(o.jsx)(j.a,{exact:!0,path:"/detail/:imdbId",component:_})]})})},K=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,109)).then((function(t){var c=t.getCLS,n=t.getFID,i=t.getFCP,r=t.getLCP,d=t.getTTFB;c(e),n(e),i(e),r(e),d(e)}))};d.a.render(Object(o.jsx)(i.a.StrictMode,{children:Object(o.jsx)(E.a,{children:Object(o.jsx)(z,{})})}),document.getElementById("root")),K()}},[[95,1,2]]]);
//# sourceMappingURL=main.855511be.chunk.js.map